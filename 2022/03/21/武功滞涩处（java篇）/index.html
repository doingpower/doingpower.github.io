<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="meta,metauniverse,java,lzp,自学">
    <meta name="description" content="这是Nico Liao的个人博客空间。">
    <meta name="author" content="Nico Liao">
    
    <title>
        
            武功滞涩处Java篇 |
        
        Nico&#39;s Zone
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="shortcut icon" href="/images/qe2.svg">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/css/font-awesome.min.css">
    <script id="hexo-configurations">
    let KEEP = window.KEEP || {};
    KEEP.hexo_config = {"hostname":"www.lzp.zone","root":"/","language":"zh-CN","path":"search.json"};
    KEEP.theme_config = {"toc":{"enable":true,"number":true,"expand_all":true,"init_open":true},"style":{"primary_color":"#0066CC","avatar":"/images/touxiang.svg","favicon":"/images/qe2.svg","article_img_align":"left","left_side_width":"260px","content_max_width":"920px","hover":{"shadow":false,"scale":true},"first_screen":{"enable":true,"background_img":"/images/bg.svg","description":"蝉歌星夜 玉影婆娑"},"scroll":{"progress_bar":{"enable":true},"percent":{"enable":false}}},"local_search":{"enable":true,"preload":true},"code_copy":{"enable":true,"style":"mac"},"pjax":{"enable":true},"lazyload":{"enable":true},"version":"3.4.3"};
    KEEP.language_ago = {"second":"%s 秒前","minute":"%s 分钟前","hour":"%s 小时前","day":"%s 天前","week":"%s 周前","month":"%s 月前","year":"%s 年前"};
  </script>
<meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="Nico‘s Zone" type="application/atom+xml">
</head>


<body>
<div class="progress-bar-container">
    
        <span class="scroll-progress-bar"></span>
    

    
        <span class="pjax-progress-bar"></span>
        <span class="pjax-progress-icon">
            <i class="fas fa-circle-notch fa-spin"></i>
        </span>
    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            <header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            
                <a class="logo-image" href="/">
                    <img src="/images/qe2.svg">
                </a>
            
            <a class="logo-title" href="/">
                Nico&#39;s Zone
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="/"
                            >
                                首页
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/archives"
                            >
                                归档
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/categories"
                            >
                                分类
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/tags"
                            >
                                标签
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/%E9%9A%8F%E7%AC%94"
                            >
                                随笔
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/about"
                            >
                                关于
                            </a>
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="fas fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/">首页</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives">归档</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/categories">分类</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/tags">标签</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/%E9%9A%8F%E7%AC%94">随笔</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/about">关于</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="article-content-container">

        <div class="article-title">
            <span class="title-hover-animation">武功滞涩处Java篇</span>
        </div>

        
            <div class="article-header">
                <div class="avatar">
                    <img src="/images/touxiang.svg">
                </div>
                <div class="info">
                    <div class="author">
                        <span class="name">Nico Liao</span>
                        
                            <span class="author-label">阿蒙</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fas fa-edit"></i>&nbsp;2022-03-21 16:05:21
    </span>
    
        <span class="article-categories article-meta-item">
            <i class="fas fa-folder"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/categories/%E6%8A%80%E6%9C%AF/">技术</a>&nbsp;
                    </li>
                
                    <li>
                        &gt; <a href="/categories/%E6%8A%80%E6%9C%AF/Java/">Java</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fas fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/Java/">Java</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/tags/bug/">bug</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
        <span class="article-wordcount article-meta-item">
            <i class="fas fa-file-word"></i>&nbsp;<span>10.6k 字</span>
        </span>
    
    
        <span class="article-min2read article-meta-item">
            <i class="fas fa-clock"></i>&nbsp;<span>40 分钟</span>
        </span>
    
    
        <span class="article-pv article-meta-item">
            <i class="fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                    </div>
                </div>
            </div>
        

        <div class="article-content markdown-body">
            <blockquote>
<p>文章格式提醒：问题2级、答案分支依次递减；未解决的结尾用”?”进行标识；倒序更新。</p>
</blockquote>
<h2 id="Java的动态代理机制？"><a href="#Java的动态代理机制？" class="headerlink" title="Java的动态代理机制？"></a>Java的动态代理机制？</h2><h2 id="回滚"><a href="#回滚" class="headerlink" title="回滚"></a>回滚</h2><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>****回滚(rollback)****就是在事务提交之前将数据库数据恢复到事务修改之前数据库数据状态。为了保证在应用程序、数据库或系统出现错误后，数据库能够被还原，以保证数据库的完整性，所以需要进行回滚。</p>
<blockquote>
<p>例如，用户A给用户B转账，在数据库中就需要给A与B的账户信息进行修改(update)操作，而这两条sql语句必须都执行或者都不执行。 例如先执行用户B的修改(update)语句，使用户B的账户金额增加了1000，然后执行用户A的update语句，使用户A的账户金额减少了1000。 如果用户A的账户金额大于1000，则交易顺利进行，不存在任何问题，但是当用户A的账户金额小于1000时，由于转账金额不允许大于账户金额，第二条sql语句语句就无法正确执行，此时，数据库的状态必须回到没有执行B的update语句之前，需要进行回滚操作，回滚就是执行一遍相反的操作，此时再执行B的update金额减1000。</p>
</blockquote>
<h3 id="回滚与撤销的区别："><a href="#回滚与撤销的区别：" class="headerlink" title="回滚与撤销的区别："></a>回滚与撤销的区别：</h3><p>回滚是指将数据库的状态恢复到执行事务之前的状态，其中可能会使用UNDO日志进行回滚。</p>
<p>撤销是一种记录日志的方式，并不是主要服务于事务回滚，而是主要用于系统从故障中恢复。 例如，系统突然断电，系统要根据UNDO日志对未完成的事务进行处理，保证数据库的状态为执行这些事务之前的状态。</p>
<p>回滚的作用就是，当有一个SQL语句执行时，条件不符合要求，比如你要插入一个数据，但是插入的数据要有条件的，这时候你就可以用回滚，如果条件成功就COMMIT提交的意思，不然就ROLLBACK回滚，也就是说插入不成功<br><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/bigdaddy_maybe/article/details/82748249" >原文链接<i class="fas fa-external-link-alt"></i></a></p>
<h2 id="spring常用的接口、类？"><a href="#spring常用的接口、类？" class="headerlink" title="spring常用的接口、类？"></a>spring常用的接口、类？</h2><h3 id="Beanfactory接口？"><a href="#Beanfactory接口？" class="headerlink" title="Beanfactory接口？"></a>Beanfactory接口？</h3><h3 id="ApplicationContext"><a href="#ApplicationContext" class="headerlink" title="ApplicationContext"></a>ApplicationContext</h3><h2 id="Spring常用注解？"><a href="#Spring常用注解？" class="headerlink" title="Spring常用注解？"></a>Spring常用注解？</h2><p>@Autowired / @Test /</p>
<p>@service</p>
<p>@Transactional</p>
<h2 id="连接池的定义原理等"><a href="#连接池的定义原理等" class="headerlink" title="连接池的定义原理等"></a>连接池的定义原理等</h2><p>转自<a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/qq_32392597/article/details/107512805" >王杰的博客<i class="fas fa-external-link-alt"></i></a>，<a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_42867975/article/details/90306610" >一天天的博客<i class="fas fa-external-link-alt"></i></a></p>
<h3 id="定义-1"><a href="#定义-1" class="headerlink" title="定义"></a>定义</h3><p>数据库连接池负责分配、管理和释放数据库连接，它允许应用程序重复使用一个现有的数据库连接，而不是再重新建立一个；</p>
<p>释放空闲时间超过最大空闲时间的数据库连接来避免因为没有释放数据库连接而引起的数据库连接遗漏。</p>
<blockquote>
<p>———以上参考《百度百科》</p>
</blockquote>
<h3 id="必要性"><a href="#必要性" class="headerlink" title="必要性"></a>必要性</h3><p>建立一个数据库连接是一件非常耗时（消耗时间）耗力（消耗资源）的事情。之所以会这样，是因为连接到数据库服务器需要经历几个漫长的过程:建立物理通道（例如套接字或命名管道），与服务器进行初次握手，分析连接字符串信息，由服务器对连接进行身份验证，运行检查以便在当前事务中登记等等。</p>
<p>连接池就是这样一个容器：它存放了一定数量的与数据库服务器的物理连接。因此，当我们需要连接数据库服务器的时候，只需去池（容器）中取出一条空闲的连接，而不是新建一条连接。这样的话，我们就可以大大减少连接数据库的开销，从而提高了应用程序的性能。</p>
<h4 id="工作原理"><a href="#工作原理" class="headerlink" title="工作原理"></a>工作原理</h4><p>连接池的工作原理主要由三部分组成，分别为</p>
<ul>
<li>连接池的建立</li>
<li>连接池中连接的使用管理</li>
<li>连接池的关闭</li>
</ul>
<h4 id="第一、连接池的建立。"><a href="#第一、连接池的建立。" class="headerlink" title="第一、连接池的建立。"></a>第一、连接池的建立。</h4><p>　　一般在系统初始化时，连接池会根据系统配置建立，并在池中创建了几个连接对象，以便使用时能从连接池中获取。连接池中的连接不能随意创建和关闭，这样避免了连接随意建立和关闭造成的系统开销。</p>
<p>Java中提供了很多容器类可以方便的构建连接池，例如Vector、Stack等。</p>
<h4 id="第二、连接池的管理。"><a href="#第二、连接池的管理。" class="headerlink" title="第二、连接池的管理。"></a>第二、连接池的管理。</h4><p>　　连接池管理策略是连接池机制的核心，连接池内连接的分配和释放对系统的性能有很大的影响。其管理策略是：</p>
<p>当客户请求数据库连接时，</p>
<p>1）如果池中有空闲连接可用，返回该连接。<br>2）如果没有空闲连接，池中连接都已用完，创建一个新连接添加到池中。<br>3）如果池中连接已达到最大连接数，请求按设定的最大等待时间进入等待队列直到有空闲连接可用。<br>4）如果超出最大等待时间，则抛出异常给客户。<br>当客户释放数据库连接时，先判断该连接的引用次数是否超过了规定值，如果超过就从连接池中删除该连接，否则保留为其他客户服务。</p>
<p>该策略保证了数据库连接的有效复用，避免频繁的建立、释放连接所带来的系统资源开销。</p>
<p>如果连接长时间空闲，或检测到与服务器的连接已断开，连接池管理器也会将该连接从池中移除。</p>
<h4 id="第三、连接池的关闭。"><a href="#第三、连接池的关闭。" class="headerlink" title="第三、连接池的关闭。"></a>第三、连接池的关闭。</h4><p>当应用程序退出时，关闭连接池中所有的连接，释放连接池相关的资源，该过程正好与创建相反。</p>
<h3 id="注意点"><a href="#注意点" class="headerlink" title="注意点"></a>注意点</h3><h4 id="1、并发问题"><a href="#1、并发问题" class="headerlink" title="1、并发问题"></a>1、并发问题</h4><p>为了使连接管理服务具有最大的通用性，必须考虑多线程环境，即并发问题。</p>
<p>这个问题相对比较好解决，因为各个语言自身提供了对并发管理的支持像java,c#等等，使用<code>synchronized(java)lock(C#)</code>关键字即可确保线程是同步的。</p>
<h4 id="2、事务处理"><a href="#2、事务处理" class="headerlink" title="2、事务处理"></a>2、事务处理</h4><p>我们知道，事务具有原子性，此时要求对数据库的操作符合“<code>ALL-OR-NOTHING</code>”原则,即对于一组SQL语句要么全做，要么全不做。</p>
<p>我们知道当2个线程共用一个连接Connection对象，而且各自都有自己的事务要处理时候，对于连接池是一个很头疼的问题，因为即使Connection类提供了相应的事务支持，可是我们仍然不能确定那个数据库操作是对应那个事务的，这是由于我们有２个线程都在进行事务操作而引起的。</p>
<p>为此我们可以使用每一个事务独占一个连接来实现，虽然这种方法有点浪费连接池资源但是可以大大降低事务管理的复杂性。</p>
<h4 id="3、连接池的分配与释放"><a href="#3、连接池的分配与释放" class="headerlink" title="3、连接池的分配与释放"></a>3、连接池的分配与释放</h4><p>连接池的分配与释放，对系统的性能有很大的影响。合理的分配与释放，可以提高连接的复用度，从而降低建立新连接的开销，同时还可以加快用户的访问速度。</p>
<p>对于连接的管理可使用一个List。即把已经创建的连接都放入List中去统一管理。每当用户请求一个连接时，系统检查这个List中有没有可以分配的连接。如果有就把那个最合适的连接分配给他，如果没有就抛出一个异常给用户。</p>
<h4 id="４、连接池的配置与维护"><a href="#４、连接池的配置与维护" class="headerlink" title="４、连接池的配置与维护"></a>４、连接池的配置与维护</h4><p>连接池中到底应该放置多少连接，才能使系统的性能最佳？</p>
<p>系统可采取设置<strong>最小连接数（minConnection）和最大连接数（maxConnection）</strong>等参数来控制连接池中的连接。</p>
<p>比方说，最小连接数是系统启动时连接池所创建的连接数。如果创建过多，则系统启动就慢，但创建后系统的响应速度会很快；如果创建过少，则系统启动的很快，响应起来却慢。这样，可以在开发时，设置较小的最小连接数，开发起来会快，而在系统实际使用时设置较大的，因为这样对访问客户来说速度会快些。</p>
<p>最大连接数是连接池中允许连接的最大数目，具体设置多少，要看系统的访问量，可通过软件需求上得到。</p>
<p>如何确保连接池中的最小连接数呢？</p>
<p>有动态和静态两种策略：</p>
<ul>
<li>动态即每隔一定时间就对连接池进行检测，如果发现连接数量小于最小连接数，则补充相应数量的新连接,以保证连接池的正常运转。</li>
<li>静态是发现空闲连接不够时再去检查。</li>
</ul>
<h3 id="通过jdbcTemplat配置数据库连接池"><a href="#通过jdbcTemplat配置数据库连接池" class="headerlink" title="通过jdbcTemplat配置数据库连接池"></a>通过jdbcTemplat配置数据库连接池</h3><blockquote>
<p>最大的空闲时间：数据库连接对象所能存活的最大时间。</p>
<p>最小连接数：是连接池一直保持的数据库连接，所以如果应用程序对数据库连接的使用量不大，将会有大量的数据库连接资源被浪费。</p>
<p>最大连接数：所能创建连接池的最大数目，如果数据库连接池连接请求超过该数目，这个请求就先等待。</p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--配置文件--&gt;</span></span><br><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">	<span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">	<span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">	<span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">		http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd&quot;</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">	<span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span>  <span class="attr">class</span>=<span class="string">&quot;com.zaxxer.hikari.HikariDataSource&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span>  <span class="attr">value</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;jdbcUrl&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://127.0.0.1:3306/test&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>  <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;idleTimeout&quot;</span> <span class="attr">value</span>=<span class="string">&quot;60000&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span><span class="comment">&lt;!--最大空闲时间--&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maximumPoolSize&quot;</span> <span class="attr">value</span>=<span class="string">&quot;20&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span><span class="comment">&lt;!--最大连接数--&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;minimumIdle&quot;</span>  <span class="attr">value</span>=<span class="string">&quot;10&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span><span class="comment">&lt;!-- 最小连接数 --&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">	</span><br><span class="line">	<span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;jdbcTemplate &quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.core.JdbcTemplate&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span>   <span class="attr">ref</span>=<span class="string">&quot;dataSource&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.jd&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>





<h2 id="Hash是个什么东东"><a href="#Hash是个什么东东" class="headerlink" title="Hash是个什么东东"></a>Hash是个什么东东</h2><h3 id="定义-2"><a href="#定义-2" class="headerlink" title="定义"></a>定义</h3><p>Hash一般翻译为散列，还有音译为哈希，本文我们统称为哈希（这么叫好听，哈希=散列），通过百度以及谷歌都没有直接找到Hash的定义，而是找到了一些相关的概念，哈希算法，哈希函数，哈希表等概念。</p>
<p>我所理解的哈希是指一个过程，这个过程就是把任意长度的输入，通过哈希算法，变换成固定长度的输出，所输出的称为哈希值。这种变换是一种压缩映射，也即哈希值所占的空间一般来说远小于输入值的空间，不同的输入可能会哈希出相同的输出（概率很小）。</p>
<h3 id="哈希函数、算法"><a href="#哈希函数、算法" class="headerlink" title="哈希函数、算法"></a>哈希函数、算法</h3><p>哈希算法将任意长度的二进制值映射为较短的固定长度的二进制值，这个小的二进制值称为哈希值。哈希值是一段数据唯一且极其紧凑的数值表示形式。如果散列一段明文而且哪怕只更改该段落的一个字母，随后的哈希都将产生不同的值。要找到散列为同一个值的两个不同的输入，在计算上是不可能的，所以数据的哈希值可以检验数据的完整性。一般用于快速查找和加密算法 —《数据结构与算法分析》</p>
<h3 id="哈希表"><a href="#哈希表" class="headerlink" title="哈希表"></a>哈希表</h3><p>散列表（Hash table，也叫哈希表），是根据关键码值(Key value)而直接进行访问的数据结构。也就是说，它通过把关键码值映射到表中一个位置来访问记录，以加快查找的速度。这个映射函数叫做散列函数，存放记录的数组叫做散列表。</p>
<h3 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h3><p>如果两个哈希值是不相同的（根据同一函数），那么这两个散列值的原始输入一定是不相同的。<br>如果两个哈希值相同，两个输入值很可能(极大概率)是相同的，但也可能不同，这种情况称为“哈希碰撞”<br>抗篡改能力：对于一个数据块，哪怕只改动其一个比特位，其hash值的改动也会非常大。<br>它是一种单向函数是“非对称”的，即它是一个从明文到密文的不可逆的映射,只有加密过程,没有解密过程。</p>
<p>部分引自：<a class="link"   target="_blank" rel="noopener" href="https://gist.github.com/arrayadd" >博文一<i class="fas fa-external-link-alt"></i></a>、<a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/qq_34858648/article/details/79545622" >博文二<i class="fas fa-external-link-alt"></i></a> ，更多请参考<a class="link"   target="_blank" rel="noopener" href="https://www.zhihu.com/question/26762707/answer/890181997" >知乎问答<i class="fas fa-external-link-alt"></i></a></p>
<h2 id="常见的设计模式？"><a href="#常见的设计模式？" class="headerlink" title="常见的设计模式？"></a>常见的设计模式？</h2><h2 id="无法从static方法中引用非static方法"><a href="#无法从static方法中引用非static方法" class="headerlink" title="无法从static方法中引用非static方法"></a>无法从static方法中引用非static方法</h2><p>  代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.company;</span><br><span class="line"><span class="keyword">import</span> jdk.internal.util.xml.impl.Input;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CalculatePension</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// read inputs</span></span><br><span class="line">        Scanner in = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        System.out.print(<span class="string">&quot;How much money do you need to retire? &quot;</span>);</span><br><span class="line">        <span class="keyword">double</span> goal = in.nextDouble();</span><br><span class="line">        System.out.print(<span class="string">&quot;How much money will you contribute every year? &quot;</span>);</span><br><span class="line">        <span class="keyword">double</span> payment = in.nextDouble();</span><br><span class="line">        System.out.print(<span class="string">&quot;Interest rate in %: &quot;</span>);</span><br><span class="line">        <span class="keyword">double</span> interestRate = in.nextDouble();</span><br><span class="line">        <span class="keyword">double</span> balance = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> year = <span class="number">0</span>;</span><br><span class="line">      </span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">            balance += payment;</span><br><span class="line">            <span class="keyword">double</span> interest = balance * interestRate / <span class="number">100</span>;</span><br><span class="line">            balance += interest;</span><br><span class="line">            year++;</span><br><span class="line"><span class="comment">// print current balance</span></span><br><span class="line"><span class="comment">// ask if ready to retire and get input</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (Input.equals(<span class="string">&quot;N&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>  报错：“java: 无法从静态上下文中引用非静态方法 equals(java.lang.Object)”</p>
</blockquote>
<p>  心得体会：</p>
<ul>
<li>静态方法又叫做类方法，不需要实例化而是通过类名称来进行调用，与实例无关；非静态方法又叫做实例对象方法，必须通过对方访问的方法；</li>
<li>解决方案：<ul>
<li>在外部定义了动态类而导致如此报错的，可以将该动态类改为静态类，即<code>static class </code></li>
<li>或者可在main主方法里实例化非静态方法的对象，再对非静态方法进行调用</li>
</ul>
</li>
</ul>
<h2 id="生成随机数有几种方法"><a href="#生成随机数有几种方法" class="headerlink" title="生成随机数有几种方法"></a>生成随机数有几种方法</h2><blockquote>
<p>1.根据强制类型转换来实现：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> r=(<span class="keyword">int</span>)(Math.random()*n);</span><br></pre></td></tr></table></figure>

<p>2.直接调用随机数生成方法</p>
</blockquote>
<h2 id="类的访问器和修改器方法"><a href="#类的访问器和修改器方法" class="headerlink" title="类的访问器和修改器方法?"></a>类的访问器和修改器方法?</h2><h2 id="具体如何使用GregorianCanlendar对象"><a href="#具体如何使用GregorianCanlendar对象" class="headerlink" title="具体如何使用GregorianCanlendar对象?"></a>具体如何使用GregorianCanlendar对象?</h2><h2 id="IDEA的调试技巧"><a href="#IDEA的调试技巧" class="headerlink" title="IDEA的调试技巧"></a>IDEA的调试技巧</h2><h3 id="步过和步入"><a href="#步过和步入" class="headerlink" title="步过和步入"></a>步过和步入</h3><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://tva1.sinaimg.cn/large/e6c9d24ely1h0ldvurc7yj20ig0c8jrw.jpg"
                      alt="img"
                ></p>
<h3 id="强行步入，步出"><a href="#强行步入，步出" class="headerlink" title="强行步入，步出"></a>强行步入，步出</h3><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://tva1.sinaimg.cn/large/e6c9d24ely1h0ldvwtwy0j20gt0dr74s.jpg"
                      alt="img"
                ></p>
<h3 id="回退，和运行到光标处"><a href="#回退，和运行到光标处" class="headerlink" title="回退，和运行到光标处"></a>回退，和运行到光标处</h3><p>运行到光标处：光标点到哪里，他的断点执行到哪一行</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://tva1.sinaimg.cn/large/e6c9d24ely1h0ldvu9h9xj20fe0cxjrx.jpg"
                      alt="在这里插入图片描述"
                ></p>
<h3 id="计算表达式：可以改变变量的值"><a href="#计算表达式：可以改变变量的值" class="headerlink" title="计算表达式：可以改变变量的值"></a>计算表达式：可以改变变量的值</h3><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://tva1.sinaimg.cn/large/e6c9d24ely1h0ldvxot6cj20ls0gn0u7.jpg"
                      alt="在这里插入图片描述"
                ></p>
<h3 id="条件断点：-for循环"><a href="#条件断点：-for循环" class="headerlink" title="条件断点： for循环"></a>条件断点： for循环</h3><p>当我们想查看for循环中i=300的值，一个个点是不可能的，此时需要条件断点。</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://tva1.sinaimg.cn/large/e6c9d24ely1h0ldvyphd1j20nh0i1tab.jpg"
                      alt="在这里插入图片描述"
                ></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://tva1.sinaimg.cn/large/e6c9d24ely1h0ldvvww7qj211n0f3acg.jpg"
                      alt="在这里插入图片描述"
                ></p>
<h3 id="放行"><a href="#放行" class="headerlink" title="放行"></a>放行</h3><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://tva1.sinaimg.cn/large/e6c9d24ely1h0ldvy6uw4j211j0gradz.jpg"
                      alt="在这里插入图片描述"
                ></p>
<h3 id="多线程调试"><a href="#多线程调试" class="headerlink" title="多线程调试"></a>多线程调试</h3><h2 id="通配符"><a href="#通配符" class="headerlink" title="通配符"></a>通配符</h2><p>通配符是一种特殊语句，主要有星号(*)和问号(?)，用来模糊搜索文件。当查找文件夹时，可以使用它来代替一个或多个真正字符；当不知道真正字符或者懒得输入完整名字时，常常使用通配符代替一个或多个真正的字符。</p>
<h3 id="星号（-）"><a href="#星号（-）" class="headerlink" title="星号（*）"></a>星号（*）</h3><p>可以使用星号代替零个、单个或多个字符。如果正在查找以AEW开头的一个文件，但不记得文件名其余部分，可以输入AEW*，查找以AEW开头的所有文件类型的文件，如AEWT.txt、AEWU.EXE、AEWI.dll等。</p>
<p>要缩小范围可以输入AEW*.txt，查找以AEW开头的所有文件类型并.txt为扩展名的文件如AEWIP.txt、AEWDF.txt。</p>
<p>2、问号（？）</p>
<p>可以使用问号代替一个字符。如果输入love?，查找以love开头的一个字符结尾文件类型的文件，如lovey、lovei等。要缩小范围可以输入love?.doc，查找以love开头的一个字符结尾文件类型并.doc为扩展名的文件如lovey.doc、loveh.doc。</p>
<p><a target="_blank" rel="noopener" href="https://iknow-pic.cdn.bcebos.com/7dd98d1001e939014c4eb9fa75ec54e737d196a1"><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://tva1.sinaimg.cn/large/e6c9d24ely1h0ldvzk95ej20jv0a30tn.jpg"
                      alt="img"
                ></a></p>
<h3 id="扩展资料"><a href="#扩展资料" class="headerlink" title="扩展资料"></a>扩展资料</h3><p>通配符使用方法——模糊条件求和：</p>
<p>1、例如要求：求出商品中包含“T恤”的总数量</p>
<p>需要在项目栏中求和出包含T恤的总数量，输入公式：=SUMIF(A2:A18,”<em>T恤</em>“,D2:D18) 因为我们不能确定“T恤”的前后有没有其他数据，所以条件为”<em>T恤</em>“，则可以把所有包含“T恤”的数量求出。</p>
<p>2、例如要求：求出商品中最后一个字是”裙”，且单元格是5个字符对应的总数量</p>
<p>在项目栏中输入公式：=SUMIF(A2:A18,“????裙”，D2:D18)，因为必须是5个字符且最后一个是“裙”，所以条件输入“????裙”1个“？”代表任意1个字符。</p>
<h2 id="从键盘接受输入的字符"><a href="#从键盘接受输入的字符" class="headerlink" title="从键盘接受输入的字符"></a>从键盘接受输入的字符</h2><ul>
<li><p>第一种方法:通过接收<a class="link"   target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E5%AD%97%E7%AC%A6%E4%B8%B2&spm=1001.2101.3001.7020" >字符串<i class="fas fa-external-link-alt"></i></a> 再接收其第一个字符</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;    <span class="comment">//导包</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">T1</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">	Scanner sc = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">	System.out.println(<span class="string">&quot;请输入字符或字符串&quot;</span>);</span><br><span class="line">	<span class="keyword">char</span> c =sc.next().charAt(<span class="number">0</span>);    <span class="comment">//只接收字符串的第一个字符</span></span><br><span class="line">	System.out.println(c);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>第二种方法: 同样可以实现录入一个字符的功能</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;  </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test_01</span>  </span></span><br><span class="line"><span class="class"></span>&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span><span class="keyword">throws</span> Exception</span></span><br><span class="line"><span class="function">    </span>&#123;  </span><br><span class="line">       System.out.println(<span class="string">&quot;请输入一个字符&quot;</span>);  </span><br><span class="line">        <span class="keyword">char</span> c=(<span class="keyword">char</span>)System.in.read();  </span><br><span class="line">        System.out.println(c); </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure></li>
<li><p>第三种方法：利用类库中的Scanner类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Scanner in = <span class="keyword">new</span> Scanner(System.in);  <span class="comment">//定义一个Scanner类对象，用来接收数据</span></span><br><span class="line"></span><br><span class="line">System.out.print(<span class="string">&quot;Please input a string :&quot;</span>);</span><br><span class="line"></span><br><span class="line">Int a = in.nextInt();   <span class="comment">//把接收的整形数据放到a中</span></span><br><span class="line"></span><br><span class="line">String str = in.nextLine();   <span class="comment">//把输入的当前行数据放到字符串变量str中</span></span><br><span class="line"></span><br><span class="line">Char arr[] = str.toCharArray();    <span class="comment">//字符串转换成数组</span></span><br><span class="line"></span><br><span class="line">String st = arr.toString();   <span class="comment">//字符数组转换成字符串</span></span><br></pre></td></tr></table></figure></li>
<li><p>第四种方法：字符输入流InputStreamReader</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">InputStreamReader reader = <span class="keyword">new</span> InputStreamReader(System.in);    <span class="comment">//定义一个字符输入流对象reader</span></span><br><span class="line"></span><br><span class="line">BufferedReader input = <span class="keyword">new</span> BufferedReader(reader);     <span class="comment">//把reader接收的字符放入到缓冲区input中</span></span><br><span class="line">System.out.print(<span class="string">&quot;Please enter your word:&quot;</span>);   </span><br><span class="line">String text =  input.readLine();   <span class="comment">//从input缓冲区中读取一行字符</span></span><br></pre></td></tr></table></figure></li>
<li><p>第五种方法:数据输入流：DataStreamReader</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">DataInputStream  in = <span class="keyword">new</span> DataInputStream(System.in);   <span class="comment">//定义一个数据输入流对象in，从键盘接收数据</span></span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;Please input a number:&quot;</span>);<span class="comment">//键盘读入的是数字类型，不是字符、字符串类型</span></span><br><span class="line"></span><br><span class="line">Int i = in.readInt();   <span class="comment">//读取一个整形数据放到i中</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="i-和-i异同与作用"><a href="#i-和-i异同与作用" class="headerlink" title="i++和++i异同与作用"></a>i++和++i异同与作用</h2><p>记得刚开始学编程的时候还是从c语言开始的，还是看的谭浩强写的那本书，上面对介绍i++和++i的区别如下：<br>i++是先赋值，然后再自增；++i是先自增，后赋值。<br>用代码表示就是：<br>若 a = i++; 则等价于 a=i;i=i+1;<br>而 a = ++i; 则等价于 i=i+1;a=i;</p>
<p>在使用i=i++的过程中，它会先把i的原始值0复制到操作数栈中，然后再对局部变量表中的0进行+1操作使得i变为了1，此时操作数栈顶的值为0，然后执行赋值操作时候使用的是弹出的操作数栈顶的值，所以最后i又被修改为了0；<br>而i=++i的过程则是先对局部变量表中i的原始值进行加1的操作，即使得i由0变为1，然后将i的值复制到操作数栈，最后赋值即弹出操作数栈顶的值。<br>i++；和++i;的执行过程和结果是一样的。<br>在使用i++和++i赋值的过程中，他们区别在于前者先复制当前数据，再进行原始值加1的操作，后者则先进行了原始值加1的操作，再对计算后的结果进行了复制，最后返回的其实都是放入操作数栈的拷贝。<br>看懂了上面的原理，你应该能明白为什么int i = 0;i=i++ + ++i；等于2了吧。如果按原来的定义取理解，也许会得出结果为1。</p>
<h2 id="资源绑定器"><a href="#资源绑定器" class="headerlink" title="资源绑定器"></a>资源绑定器</h2><blockquote>
<p>在一些需要配置较多参数（url，user，password等）的项目中可以采用此种方式，省力</p>
</blockquote>
<ol>
<li><p>在<code>src</code>目录下新建一个<code>resources</code>的包</p>
</li>
<li><p>在<code>resources</code>包下面新建一个<code>db.properties</code>的<code>file</code></p>
</li>
<li><p>在<code>db.properties</code>的文件中填写相应的配置内容</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://tva1.sinaimg.cn/large/e6c9d24ely1h0ldvvcrb0j20e605fq39.jpg"
                      alt="image-20220307205447231"
                ></p>
</li>
<li><p>在项目代码中写上如下代码，以完成资源的绑定</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ResourceBundleTest</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">// 资源绑定器，只能绑定xxx.properties文件。并且这个文件必须在类路径下。文件扩展名也必须是properties， 并且在写路径的时候，路径后面的扩展名不能写。</span></span><br><span class="line"><span class="comment">//      ResourceBundle bundle = ResourceBundle.getBundle(&quot;reflectClassInfo2&quot;);</span></span><br><span class="line">        ResourceBundle bundle = ResourceBundle.getBundle(<span class="string">&quot;javase/reflectBean/db&quot;</span>);</span><br><span class="line">        String className = bundle.getString(<span class="string">&quot;className&quot;</span>);</span><br><span class="line">        System.out.println(className);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="如何将一个变量传到一个字符串里面呢"><a href="#如何将一个变量传到一个字符串里面呢" class="headerlink" title="如何将一个变量传到一个字符串里面呢"></a>如何将一个变量传到一个字符串里面呢</h2><blockquote>
<p>例如如何将<code>loginname</code>和<code>loginpwd</code>传输到下面这条语句的合适位置呢？</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String sql = <span class="string">&quot;select * from t_user where login_name = &#x27;&#x27; and login-pwd = &quot;</span>;</span><br></pre></td></tr></table></figure>
</blockquote>
<p><strong>方法</strong>：直接用双引号将字符串包起来，再用+将变量连起来</p>
<p><code>String sql = &quot;select * from t_user where login_name = &#39;&quot;+ loginname +&quot;&#39; and login-pwd =&#39;&quot;+  loginpwd +&quot;&quot;&#39; &quot;;</code></p>
<h2 id="SQL注入现象"><a href="#SQL注入现象" class="headerlink" title="SQL注入现象"></a>SQL注入现象</h2><blockquote>
<p>如在判断登录的底层代码中存在如下语句</p>
<p><code>String sql = &quot;select * from t_user where login_name = &#39;&quot;+ loginname +&quot;&#39; and login-pwd =&#39;&quot;+ loginpwd +&quot;&quot;&#39; &quot;;</code></p>
<p>登录时输入信息为</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">用户名：fsda</span><br><span class="line">密码：fsda&#x27; or &#x27;1&#x27;=&#x27;1</span><br></pre></td></tr></table></figure>

<p>此时执行登录操作之后也能成功</p>
</blockquote>
<ul>
<li><p>在用户登录时用户输入的用户名和密码信息中含有SQL语句的关键字，这些关键字和数据库底层的SQL语句进行了拼接，导致运行时原底层的SQL语句的含义被扭曲了，也能正常运行蒙混过了判断条件。</p>
</li>
<li><p>根本原因：使用了<code>Statement</code>对字符串进行了拼接，用户输入的信息参与了底层SQL语句的编译</p>
<blockquote>
<p><code>java.sql.Statement接口的特点：先进行了字符串的拼接。然后再进行sql语句的编译</code>；</p>
<p>优点：使用Statement可以进行sql语句的拼接</p>
<p>缺点：因为拼接的存在，导致可能给不法分子机会，导致SQL注入。</p>
<p>java.sql.PreparedStatement接口的特点：先进行SQL语句的编译，然后再进行SQL语句的传值</p>
<p>优点：避免SQL注入</p>
<p>缺点：没办法进行SQL 语句的拼接，只能给SQL语句传值。</p>
</blockquote>
</li>
<li><p>解决办法：不再使用<code>Statement</code>方法，改用<code>java.sql.PreparedStatement</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//一个问号表示一个占位符，一个占位符只能接受一个”一个值/一个数据“</span></span><br><span class="line">String sql = <span class="string">&quot;select * from t_user where login_namne = ? and login_pwd =?&quot;</span>;</span><br><span class="line">stmt.conn.prepareStatement(sql);<span class="comment">//将sql语句发送给DBMS，进行sql语句的编译</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//给占位符传值，JDBC所有的下标都是从一开始的；</span></span><br><span class="line">stmt.setString(<span class="number">1</span>,loginName);</span><br><span class="line">stmt.setString(<span class="number">2</span>,loginPwd);</span><br><span class="line"></span><br><span class="line"><span class="comment">//执行SQL</span></span><br><span class="line"><span class="comment">//这个方法不需要将sql语句传递金曲，不能这样：rs=. stmt.executeQuery(sql);</span></span><br><span class="line">rs = stmt.executeQuery();</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="静态代码块？"><a href="#静态代码块？" class="headerlink" title="静态代码块？"></a>静态代码块？</h2><h2 id="类加载？"><a href="#类加载？" class="headerlink" title="类加载？"></a>类加载？</h2><h2 id="悲观锁？乐观锁？"><a href="#悲观锁？乐观锁？" class="headerlink" title="悲观锁？乐观锁？"></a>悲观锁？乐观锁？</h2><h2 id="args-？"><a href="#args-？" class="headerlink" title="args[]？"></a>args[]？</h2><h2 id="var"><a href="#var" class="headerlink" title="var"></a>var</h2><p>Java中var是Java10版本新出的特性，用它来定义局部变量。</p>
<h3 id="使用var-定义变量的语法："><a href="#使用var-定义变量的语法：" class="headerlink" title="使用var 定义变量的语法："></a>使用var 定义变量的语法：</h3><p>var 变量名 = 初始值；</p>
<p>如果代码：<br>var a = 20；<br>var a =8.9；<br>这样的代码会报错 显示int到double的转换；<br>Java是强类型语言，每个变量都有固定的变量类型。</p>
<h3 id="var是什么："><a href="#var是什么：" class="headerlink" title="var是什么："></a>var是什么：</h3><p>var不是关键字，它相当于是一种动态类型；<br>var动态类型是编译器根据变量所赋的值来推断类型；<br>var 没有改变Java的本质，var只是一种简便的写法，<br>就是说在定义局部变量时，任意什么类型都可以用var定义变量的类型会根据所赋的值来判断。</p>
<h3 id="用var声明变量的注意事项："><a href="#用var声明变量的注意事项：" class="headerlink" title="用var声明变量的注意事项："></a>用var声明变量的注意事项：</h3><p>1，var只能在方法内定义变量，不允许定义类的成员变量。<br>2，var 定义变量必须赋初始值，——》以后不能在赋初始值。<br>3，var每次只能定义一个变量，不能复合声明变量。</p>
<h3 id="使用var定义变量的优缺点："><a href="#使用var定义变量的优缺点：" class="headerlink" title="使用var定义变量的优缺点："></a>使用var定义变量的优缺点：</h3><p>优点：使代码简洁和整齐。<br>缺点：降低了程序的可读性。<br>什么时候该用var定义变量：<br>如果你定义变量时，给变量赋给一个直观的值，这时就可以使用var定义变量，</p>
<h3 id="最不能使用var定义变量："><a href="#最不能使用var定义变量：" class="headerlink" title="最不能使用var定义变量："></a>最不能使用var定义变量：</h3><p>1，给var定义的变量赋给一个很复杂的表达式时，这样使表达式的返回值不直观，不能用var定义变量。<br>2，var定义的变量作用域很长时，方法长和var变量影响较大时，不用var定义变量。<br><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/lzh_99999/article/details/102001216" >原文链接<i class="fas fa-external-link-alt"></i></a></p>
<h2 id="Spring注解的原理"><a href="#Spring注解的原理" class="headerlink" title="Spring注解的原理"></a>Spring注解的原理</h2><p>Spring框架的核心就是IOC,通过controller一类注解的bean的实例化过程可以大体总结spring注解的工作原理：</p>
<ul>
<li>利用asm技术扫描class文件，转化成Springbean结构，把符合扫描规则的（主要是是否有相关的注解标注，例如@Component）bean注册到Spring 容器中beanFactory</li>
<li>注册处理器，包括注解处理器</li>
<li>实例化处理器（包括注解处理器），并将其注册到容器的beanPostProcessors列表中</li>
<li>创建bean的过程中，属性注入或者初始化bean时会调用对应的注解处理器进行处理。</li>
</ul>
<h2 id="接口有什么用？"><a href="#接口有什么用？" class="headerlink" title="接口有什么用？"></a>接口有什么用？</h2><p>篇一：</p>
<blockquote>
<p>下面我给大家总结了4点关于JAVA中接口存在的意义：</p>
<p>　　1、重要性：在Java语言中， <a class="link"   target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=abstract&spm=1001.2101.3001.7020" >abstract<i class="fas fa-external-link-alt"></i></a> class 和interface 是支持抽象类定义的两种机制。正是由于这两种机制的存在，才赋予了Java强大的 面向对象能力。</p>
<p>　　2、简单、规范性：如果一个项目比较庞大，那么就需要一个能理清所有业务的架构师来定义一些主要的接口，这些接口不仅告诉开发人员你需要实现那些业务，而且也将命名规范限制住了（防止一些开发人员随便命名导致别的程序员无法看明白）。</p>
<p>　　3、维护、拓展性：比如你要做一个画板程序，其中里面有一个面板类，主要负责绘画功能，然后你就这样定义了这个类。</p>
<p>​     可是在不久将来，你突然发现这个类满足不了你了，然后你又要重新设计这个类，更糟糕是你可能要放弃这个类，那么其他地方可能有引用他，这样修改起来很麻烦。</p>
<p>​     如果你一开始定义一个接口，把绘制功能放在接口里，然后定义类时实现这个接口，然后你只要用这个接口去引用实现它的类就行了，以后要换的话只不过是引用另一个类而已，这样就达到维护、拓展的方便性。</p>
<p>　　4、安全、严密性：接口是实现软件松耦合的重要手段，它描叙了系统对外的所有服务，而不涉及任何具体的实现细节。这样就比较安全、严密一些（一般软件服务商考虑的比较多）。</p>
</blockquote>
<p>篇二：</p>
<blockquote>
<p>接口是软件工程最重要的概念，在java上要格外感谢Spring的贡献。这个概念对于新人来讲，是比较难理解的，最重要的原因就是需要有一定的代码量，特别是做过一些项目的重构，维护，变更等事情的时候感触才会更深一些。</p>
<p><strong>1 “接口+实现”最常见的优势就是实现类和接口分离，在更换实现类的时候，不用更换接口功能。</strong></p>
<p>比较常见的例子是发送短信。一般发送短信的场景包括注册用户，找回密码，重要通知，修改交易密码等。短信现在的结构是先接上各家短信通道公司，再经由联通移动等发送出去。</p>
<p>一般而言，短信分成两种，一种注册短信，一次只发给用户一条。这种短信到达率比较高，可能会在99%以上，也要看各种短信通道方，更会区分移动和联通。另外一种是营销短信，这种短信常见于“某公司3周年大庆，1元领取程序员鼓励师”之类的。这种短信到达率非常低。而且也经常会被封掉。但是短信又是注册的第一步，用户体验做的再好，手机收不到验证码也没用。所以觉见的做法是，会备用两个或者是多个<a class="link"   target="_blank" rel="noopener" href="https://www.zhihu.com/search?q=%E7%9F%AD%E4%BF%A1%E9%80%9A%E9%81%93&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22:%22answer%22,%22sourceId%22:133071950%7D" >短信通道<i class="fas fa-external-link-alt"></i></a>。</p>
<p>刚刚已经讲过了，调用短信接口的地方比较多，可能是用户发起的，也可能是程序检测到某种行为触发的。也就是说，会有多个地方调用短信接口，那么我们这个时候要解决的问题就是，能否在更换短信通道方的时候，不更改其他模块中被引入的代码？接口在这个时候就完美的实现了这个功能点。无论是哪个模块，我要发送的内容和预期的结果是一致的，具体是用哪家短信通道的实现类，不重要。</p>
<p>所以通常是一个SMSService做为接口，不同的公司因为有不同的实现方式，所以会有多个实现类，比如说SMSService{CorpA}Impl，SMSService{CorpB}Impl。这是一个完美的抽象，无论未来有多少种短信公司接入，无论短信公司的营销人员送了多少个香吻给公司的商务总监，程序员总是能够开心的完成功能。</p>
<p><strong>2.这对于做<a class="link"   target="_blank" rel="noopener" href="https://www.zhihu.com/search?q=%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22:%22answer%22,%22sourceId%22:133071950%7D" >单元测试<i class="fas fa-external-link-alt"></i></a>也非常有帮助。</strong></p>
<p>如果你是一个有了那么点经验的程序员，如果你还没有习惯TDD的开发。可以体验一下这种写法。还是拿短信为例。</p>
<p>先写一个SMSServiceTest。然后写一个Test方法。这个时候什么都没有，不用管。先直接这么写。</p>
<p>int code=SMSSevice.sendTextMessage(mobile,content,type);</p>
<p>这个时候IDE会提示你没有这个SMSService，用代码自动生成工具去创建这么一个接口出来。再根据提示把方法创建出来。</p>
<p>再写 SMSService smsService=new SMSServiceCorpaImpl();</p>
<p>再根据代码把实现类生成了。一般来说IDE会自动留一个空的方法。不用管。</p>
<p>这里只是一个简单的例子，但是你发现，当你用TDD的这种方式去写代码的时候，完全不用关系SMSService是怎么内部实现的。你只需要继续写你的单元测试代码好了，明确的知道这个SMSService要做的功能是发送短信，需要传递手机号，内容，类型，返回一个状态码。</p>
<p>那么接着说为什么对单元测试很方便？一般而言会用Spring配置Bean，所以实际上你的单元测试代码也不用有改动，无论是测试哪一个实现类，都只通过更改配置文件就可以完成。</p>
<p>想想，如果没有接口呢？是不是要对每一个短信通道单独写一个单元测试的方法？</p>
<p><strong>3.对于不需要频繁更变实现类的方法，是不是就可以不用写接口了？</strong></p>
<p>答案是No。整个<a class="link"   target="_blank" rel="noopener" href="https://www.zhihu.com/search?q=%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22:%22answer%22,%22sourceId%22:133071950%7D" >系统架构<i class="fas fa-external-link-alt"></i></a>的代码可以单纯认为有四部分构成。<a class="link"   target="_blank" rel="noopener" href="https://www.zhihu.com/search?q=Model+Interface+Service+Util&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22:%22answer%22,%22sourceId%22:133071950%7D" >Model+Interface+Service+Util<i class="fas fa-external-link-alt"></i></a></p>
<p>Model是纯粹的Pojo，贫血模型，Inteface和Service是接口和实现分开的，Util是全项目通用，或者是跨项目通用的，跟业务逻辑没有任何关系的。</p>
<p>写接口最大的好处就是在你写的Controller代码，或者是Service里的主要业务逻辑代码的时候，屏蔽掉细节。</p>
<p>写一个业务逻辑的时候，比如说修真院的加入班级。</p>
<p>第一步，做校验，用户是否为空，班级是否不存在，是否已经加入了班级等等。</p>
<p>第二步，更新班级和用户的关系表，更新班级总人数，更新职业总人数，更新用户的最新班级ID。</p>
<p>第三步，发送系统通知，告知用户加入班级成功。</p>
<p>如果说不用接口，只用实现类的话，第一种方式就是把所有的代码都写在这个Controller里去，代码会非常非常繁琐，一个函数突破几千行轻轻松松，而且改动起来很麻烦。</p>
<p>第二种方式就是抽象出来函数。这种方式在某种程度上能够解决代码块大的问题，但是你必须要New一个实现类出来，想想在上述逻辑中，需要new几个实现类？这些实现类就会被New的各处都是，甚至改个名字都很蛋疼。</p>
<p>但是如果你使用接口的话，你会发现，接口是强制于你去将复杂的业务逻辑抽象成具体做的事儿。</p>
<p>比如说，</p>
<p>if(user==null){</p>
<p>// to do something</p>
<p>}</p>
<p>就变成了CheckUser（uid）这么一个接口。实现类也明确了自已要做的事情。</p>
<p>从某种程度上来说，抽象成一个私有方法也能解决这个问题，但是一般都会推荐，如果你发现你写了很多私有方法，要么是他们可以继续演化成一个util，要么是可以成为一个Service。</p>
</blockquote>
<h2 id="dao是什么？"><a href="#dao是什么？" class="headerlink" title="dao是什么？"></a>dao是什么？</h2><h3 id="定义优势"><a href="#定义优势" class="headerlink" title="定义优势"></a>定义优势</h3><p><strong>DAO (DataAccessobjects 数据存取对象)<strong>是指位于业务逻辑和持久化数据之间实现对持久化数据的访问。通俗来讲，就是将数据库操作都封装起来。在面向对象设计过程中，有一些”套路”用于解决特定问题称为模式。</strong>DAO 模式提供了访问关系型数据库系统所需操作的接口，将数据访问和业务逻辑分离对上层提供面向对象的数据访问接口</strong>。从以上 DAO 模式使用可以看出，DAO 模式的优势就在于它实现了两次隔离：</p>
<ol>
<li><strong>隔离了数据访问代码和业务逻辑代码。</strong>业务逻辑代码直接调用DAO方法即可，完全感觉不到数据库表的存在。分工明确，数据访问层代码变化不影响业务逻辑代码,这符合单一职能原则，降低了藕合性，提高了可复用性。</li>
<li><strong>隔离了不同数据库实现。</strong>采用面向接口编程，如果底层数据库变化，如由 MySQL 变成 Oracle 只要增加 DAO 接口的新实现类即可，原有 MySQ 实现不用修改。这符合 “开-闭” 原则。该原则降低了代码的藕合性，提高了代码扩展性和系统的可移植性。</li>
</ol>
<h3 id="典型的DAO-模式的主要组成："><a href="#典型的DAO-模式的主要组成：" class="headerlink" title="典型的DAO 模式的主要组成："></a>典型的DAO 模式的主要组成：</h3><p>1、DAO接口： 把对数据库的所有操作定义成抽象方法，可以提供多种实现。<br>2、DAO 实现类： 针对不同数据库给出DAO接口定义方法的具体实现。<br>3、实体类：用于存放与传输对象数据。<br>4、数据库连接和关闭工具类： 避免了数据库连接和关闭代码的重复使用，方便修改。</p>
<h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><ul>
<li>先看看DAO接口：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">PetDao</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 查询所有宠物</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">List&lt;Pet&gt; <span class="title">findAllPets</span><span class="params">()</span> <span class="keyword">throws</span> Exception</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>再看看DAO实现类</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PetDaoImpl</span> <span class="keyword">extends</span> <span class="title">BaseDao</span> <span class="keyword">implements</span> <span class="title">PetDao</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 查询所有宠物</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Pet&gt; <span class="title">findAllPets</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        Connection conn=BaseDao.getConnection();</span><br><span class="line">        String sql=<span class="string">&quot;select * from pet&quot;</span>;</span><br><span class="line">        PreparedStatement stmt= conn.prepareStatement(sql);</span><br><span class="line">        ResultSet rs=    stmt.executeQuery();</span><br><span class="line">        List&lt;Pet&gt; petList=<span class="keyword">new</span> ArrayList&lt;Pet&gt;();</span><br><span class="line">        <span class="keyword">while</span>(rs.next()) &#123;</span><br><span class="line">            Pet pet=<span class="keyword">new</span> Pet(</span><br><span class="line">                    rs.getInt(<span class="string">&quot;id&quot;</span>),</span><br><span class="line">                    rs.getInt(<span class="string">&quot;owner_id&quot;</span>),</span><br><span class="line">                    rs.getInt(<span class="string">&quot;store_id&quot;</span>),</span><br><span class="line">                    rs.getString(<span class="string">&quot;name&quot;</span>),</span><br><span class="line">                    rs.getString(<span class="string">&quot;type_name&quot;</span>),</span><br><span class="line">                    rs.getInt(<span class="string">&quot;health&quot;</span>),</span><br><span class="line">                    rs.getInt(<span class="string">&quot;love&quot;</span>),</span><br><span class="line">                    rs.getDate(<span class="string">&quot;birthday&quot;</span>)</span><br><span class="line">                    );</span><br><span class="line">                petList.add(pet);</span><br><span class="line">        &#125;</span><br><span class="line">        BaseDao.closeAll(conn, stmt, rs);</span><br><span class="line">        <span class="keyword">return</span> petList;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>宠物实体类(里面get/set方法就不列出了)：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Pet</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;    </span><br><span class="line">    <span class="keyword">private</span> Integer ownerId;    <span class="comment">//主人ID</span></span><br><span class="line">    <span class="keyword">private</span> Integer storeId;    <span class="comment">//商店ID</span></span><br><span class="line">    <span class="keyword">private</span> String name;    <span class="comment">//姓名</span></span><br><span class="line">    <span class="keyword">private</span> String typeName;    <span class="comment">//类型</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> health;    <span class="comment">//健康值</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> love;    <span class="comment">//爱心值</span></span><br><span class="line">    <span class="keyword">private</span> Date birthday;    <span class="comment">//生日</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>连接数据库</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BaseDao</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String driver=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String url=<span class="string">&quot;jdbc:mysql://127.0.0.1:3306/epet&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String user=<span class="string">&quot;root&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String password=<span class="string">&quot;root&quot;</span>;</span><br><span class="line">        <span class="keyword">static</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Class.forName(driver);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title">getConnection</span><span class="params">()</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> DriverManager.getConnection(url, user, password);    </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">closeAll</span><span class="params">(Connection conn,Statement stmt,ResultSet rs)</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(rs!=<span class="keyword">null</span>) &#123;</span><br><span class="line">            rs.close();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(stmt!=<span class="keyword">null</span>) &#123;</span><br><span class="line">            stmt.close();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(conn!=<span class="keyword">null</span>) &#123;</span><br><span class="line">            conn.close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">executeSQL</span><span class="params">(String preparedSql, Object[] param)</span> <span class="keyword">throws</span> ClassNotFoundException </span>&#123;</span><br><span class="line">        Connection conn = <span class="keyword">null</span>;</span><br><span class="line">        PreparedStatement pstmt = <span class="keyword">null</span>;</span><br><span class="line">        <span class="comment">/* 处理SQL,执行SQL */</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            conn = getConnection(); <span class="comment">// 得到数据库连接</span></span><br><span class="line">            pstmt = conn.prepareStatement(preparedSql); <span class="comment">// 得到PreparedStatement对象</span></span><br><span class="line">            <span class="keyword">if</span> (param != <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; param.length; i++) &#123;</span><br><span class="line">                    pstmt.setObject(i + <span class="number">1</span>, param[i]); <span class="comment">// 为预编译sql设置参数</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        ResultSet num = pstmt.executeQuery(); <span class="comment">// 执行SQL语句</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace(); <span class="comment">// 处理SQLException异常</span></span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                BaseDao.closeAll(conn, pstmt, <span class="keyword">null</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException e) &#123;    </span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>转自<a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/luyaran/article/details/80282655" >此处<i class="fas fa-external-link-alt"></i></a></p>
<h2 id="事务"><a href="#事务" class="headerlink" title="事务"></a>事务</h2><h3 id="MySQL-事务"><a href="#MySQL-事务" class="headerlink" title="MySQL 事务"></a>MySQL 事务</h3><p>MySQL 事务主要用于处理操作量大，复杂度高的数据。比如说，在人员管理系统中，你删除一个人员，你既需要删除人员的基本资料，也要删除和该人员相关的信息，如信箱，文章等等，这样，这些数据库操作语句就构成一个事务！</p>
<ul>
<li>在 MySQL 中只有使用了 Innodb 数据库引擎的数据库或表才支持事务。</li>
<li>事务处理可以用来维护数据库的完整性，保证成批的 SQL 语句要么全部执行，要么全部不执行。</li>
<li>事务用来管理 insert,update,delete 语句</li>
</ul>
<p>一般来说，事务是必须满足4个条件（ACID）：：原子性（<strong>A</strong>tomicity，或称不可分割性）、一致性（<strong>C</strong>onsistency）、隔离性（<strong>I</strong>solation，又称独立性）、持久性（<strong>D</strong>urability）。</p>
<ul>
<li><strong>原子性：</strong>一个事务（transaction）中的所有操作，要么全部完成，要么全部不完成，不会结束在中间某个环节。事务在执行过程中发生错误，会被回滚（Rollback）到事务开始前的状态，就像这个事务从来没有执行过一样。</li>
<li><strong>一致性：</strong>在事务开始之前和事务结束以后，数据库的完整性没有被破坏。这表示写入的资料必须完全符合所有的预设规则，这包含资料的精确度、串联性以及后续数据库可以自发性地完成预定的工作。</li>
<li><strong>隔离性：</strong>数据库允许多个并发事务同时对其数据进行读写和修改的能力，隔离性可以防止多个事务并发执行时由于交叉执行而导致数据的不一致。事务隔离分为不同级别，包括读未提交（Read uncommitted）、读提交（read committed）、可重复读（repeatable read）和串行化（Serializable）。</li>
<li><strong>持久性：</strong>事务处理结束后，对数据的修改就是永久的，即便系统故障也不会丢失。</li>
</ul>
<blockquote>
<p>在 MySQL 命令行的默认设置下，事务都是自动提交的，即执行 SQL 语句后就会马上执行 COMMIT 操作。因此要显式地开启一个事务务须使用命令 BEGIN 或 START TRANSACTION，或者执行命令 SET AUTOCOMMIT=0，用来禁止使用当前会话的自动提交。</p>
</blockquote>
<h4 id="事务控制语句："><a href="#事务控制语句：" class="headerlink" title="事务控制语句："></a>事务控制语句：</h4><ul>
<li>BEGIN 或 START TRANSACTION 显式地开启一个事务；</li>
<li>COMMIT 也可以使用 COMMIT WORK，不过二者是等价的。COMMIT 会提交事务，并使已对数据库进行的所有修改成为永久性的；</li>
<li>ROLLBACK 也可以使用 ROLLBACK WORK，不过二者是等价的。回滚会结束用户的事务，并撤销正在进行的所有未提交的修改；</li>
<li>SAVEPOINT identifier，SAVEPOINT 允许在事务中创建一个保存点，一个事务中可以有多个 SAVEPOINT；</li>
<li>RELEASE SAVEPOINT identifier 删除一个事务的保存点，当没有指定的保存点时，执行该语句会抛出一个异常；</li>
<li>ROLLBACK TO identifier 把事务回滚到标记点；</li>
<li>SET TRANSACTION 用来设置事务的隔离级别。InnoDB 存储引擎提供事务的隔离级别有READ UNCOMMITTED、READ COMMITTED、REPEATABLE READ 和 SERIALIZABLE。</li>
</ul>
<h4 id="MYSQL-事务处理主要有两种方法："><a href="#MYSQL-事务处理主要有两种方法：" class="headerlink" title="MYSQL 事务处理主要有两种方法："></a>MYSQL 事务处理主要有两种方法：</h4><p>1、用 BEGIN, ROLLBACK, COMMIT来实现</p>
<ul>
<li><strong>BEGIN</strong> 开始一个事务</li>
<li><strong>ROLLBACK</strong> 事务回滚</li>
<li><strong>COMMIT</strong> 事务确认</li>
</ul>
<p>2、直接用 SET 来改变 MySQL 的自动提交模式: </p>
<ul>
<li><strong>SET AUTOCOMMIT=0</strong> 禁止自动提交</li>
<li><strong>SET AUTOCOMMIT=1</strong> 开启自动提交</li>
</ul>
<h4 id="事务测试"><a href="#事务测试" class="headerlink" title="事务测试"></a>事务测试</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; use RUNOOB;</span><br><span class="line">Database changed</span><br><span class="line">mysql&gt; CREATE TABLE runoob_transaction_test( id int(5)) engine=innodb;  # 创建数据表</span><br><span class="line">Query OK, 0 rows affected (0.04 sec)</span><br><span class="line"> </span><br><span class="line">mysql&gt; select * from runoob_transaction_test;</span><br><span class="line">Empty set (0.01 sec)</span><br><span class="line"> </span><br><span class="line">mysql&gt; begin;  # 开始事务</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"> </span><br><span class="line">mysql&gt; insert into runoob_transaction_test value(5);</span><br><span class="line">Query OK, 1 rows affected (0.01 sec)</span><br><span class="line"> </span><br><span class="line">mysql&gt; insert into runoob_transaction_test value(6);</span><br><span class="line">Query OK, 1 rows affected (0.00 sec)</span><br><span class="line"> </span><br><span class="line">mysql&gt; commit; # 提交事务</span><br><span class="line">Query OK, 0 rows affected (0.01 sec)</span><br><span class="line"> </span><br><span class="line">mysql&gt;  select * from runoob_transaction_test;</span><br><span class="line">+------+</span><br><span class="line">| id   |</span><br><span class="line">+------+</span><br><span class="line">| 5    |</span><br><span class="line">| 6    |</span><br><span class="line">+------+</span><br><span class="line">2 rows in set (0.01 sec)</span><br><span class="line"> </span><br><span class="line">mysql&gt; begin;    # 开始事务</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"> </span><br><span class="line">mysql&gt;  insert into runoob_transaction_test values(7);</span><br><span class="line">Query OK, 1 rows affected (0.00 sec)</span><br><span class="line"> </span><br><span class="line">mysql&gt; rollback;   # 回滚</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"> </span><br><span class="line">mysql&gt;   select * from runoob_transaction_test;   # 因为回滚所以数据没有插入</span><br><span class="line">+------+</span><br><span class="line">| id   |</span><br><span class="line">+------+</span><br><span class="line">| 5    |</span><br><span class="line">| 6    |</span><br><span class="line">+------+</span><br><span class="line">2 rows in set (0.01 sec)</span><br><span class="line"> </span><br><span class="line">mysql&gt;</span><br></pre></td></tr></table></figure>

<h4 id="PHP中使用事务实例"><a href="#PHP中使用事务实例" class="headerlink" title="PHP中使用事务实例"></a>PHP中使用事务实例</h4><h4 id="MySQL-ORDER-BY-测试："><a href="#MySQL-ORDER-BY-测试：" class="headerlink" title="MySQL ORDER BY 测试："></a>MySQL ORDER BY 测试：</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$dbhost</span> = <span class="string">&#x27;localhost&#x27;</span>;  <span class="comment">// mysql服务器主机地址</span></span><br><span class="line"><span class="variable">$dbuser</span> = <span class="string">&#x27;root&#x27;</span>;            <span class="comment">// mysql用户名</span></span><br><span class="line"><span class="variable">$dbpass</span> = <span class="string">&#x27;123456&#x27;</span>;          <span class="comment">// mysql用户名密码</span></span><br><span class="line"><span class="variable">$conn</span> = mysqli_connect(<span class="variable">$dbhost</span>, <span class="variable">$dbuser</span>, <span class="variable">$dbpass</span>);</span><br><span class="line"><span class="keyword">if</span>(! <span class="variable">$conn</span> )</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">die</span>(<span class="string">&#x27;连接失败: &#x27;</span> . mysqli_error(<span class="variable">$conn</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 设置编码，防止中文乱码</span></span><br><span class="line">mysqli_query(<span class="variable">$conn</span>, <span class="string">&quot;set names utf8&quot;</span>);</span><br><span class="line">mysqli_select_db( <span class="variable">$conn</span>, <span class="string">&#x27;RUNOOB&#x27;</span> );</span><br><span class="line">mysqli_query(<span class="variable">$conn</span>, <span class="string">&quot;SET AUTOCOMMIT=0&quot;</span>); <span class="comment">// 设置为不自动提交，因为MYSQL默认立即执行</span></span><br><span class="line">mysqli_begin_transaction(<span class="variable">$conn</span>);            <span class="comment">// 开始事务定义</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span>(!mysqli_query(<span class="variable">$conn</span>, <span class="string">&quot;insert into runoob_transaction_test (id) values(8)&quot;</span>))</span><br><span class="line">&#123;</span><br><span class="line">    mysqli_query(<span class="variable">$conn</span>, <span class="string">&quot;ROLLBACK&quot;</span>);     <span class="comment">// 判断当执行失败时回滚</span></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span>(!mysqli_query(<span class="variable">$conn</span>, <span class="string">&quot;insert into runoob_transaction_test (id) values(9)&quot;</span>))</span><br><span class="line">&#123;</span><br><span class="line">    mysqli_query(<span class="variable">$conn</span>, <span class="string">&quot;ROLLBACK&quot;</span>);      <span class="comment">// 判断执行失败时回滚</span></span><br><span class="line">&#125;</span><br><span class="line">mysqli_commit(<span class="variable">$conn</span>);            <span class="comment">//执行事务</span></span><br><span class="line">mysqli_close(<span class="variable">$conn</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>


        </div>

        
            <div class="post-copyright-info">
                <div class="article-copyright-info-container">
    <ul>
        <li>本文标题：武功滞涩处Java篇</li>
        <li>本文作者：Nico Liao</li>
        <li>创建时间：2022-03-21 16:05:21</li>
        <li>
            本文链接：https://www.lzp.zone/2022/03/21/武功滞涩处（java篇）/
        </li>
        <li>
            版权声明：本博客所有文章除特别声明外，均采用 <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">BY-NC-SA</a> 许可协议。转载请注明出处！
        </li>
    </ul>
</div>

            </div>
        

        
            <div class="article-nav">
                
                    <div class="article-prev">
                        <a class="prev"
                           rel="prev"
                           href="/2022/03/21/(Java)Bean,POJO%EF%BC%8CPO%EF%BC%8CDTO%EF%BC%8CVO%EF%BC%8CBO,EJB,EntityBean%E4%B8%80%E9%94%85%E7%AB%AF/"
                        >
                            <span class="left arrow-icon flex-center">
                              <i class="fas fa-chevron-left"></i>
                            </span>
                            <span class="title flex-center">
                                <span class="post-nav-title-item">Bean,POJO,PO,DTO,VO,BO,EJB一锅端</span>
                                <span class="post-nav-item">上一篇</span>
                            </span>
                        </a>
                    </div>
                
                
                    <div class="article-next">
                        <a class="next"
                           rel="next"
                           href="/2022/03/20/Spring%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E6%B1%87%E6%80%BB/"
                        >
                            <span class="title flex-center">
                                <span class="post-nav-title-item">Spring基础知识汇总</span>
                                <span class="post-nav-item">下一篇</span>
                            </span>
                            <span class="right arrow-icon flex-center">
                              <i class="fas fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        

        
            <div class="comment-container">
                <div class="comments-container">
    <div id="comment-anchor"></div>
    <div class="comment-area-title">
        <i class="fas fa-comments">&nbsp;评论</i>
    </div>
    

        
            
    <div class="valine-container">
        <script data-pjax
                src="//cdn.jsdelivr.net/npm/valine@latest/dist/Valine.min.js"></script>
        <div id="vcomments"></div>
        <script data-pjax>
            function loadValine() {
                new Valine({
                    el: '#vcomments',
                    appId: 'KIssPt4MBUXkvSe9yAEy7pb2-gzGzoHsz',
                    appKey: '71OF5ao664Djvpz7aEonzprV',
                    meta: ['nick', 'mail', 'link'],
                    avatar: 'wavatar',
                    enableQQ: true,
                    placeholder: '😜 请尽情吐槽吧 ~',
                    lang: 'zh-CN'.toLowerCase()
                });

                function getAuthor(language) {
                    switch (language) {
                        case 'en':
                            return 'Author';
                        case 'zh-CN':
                            return '博主';
                        default:
                            return 'Master';
                    }
                }

                // Add "Author" identify
                const getValineDomTimer = setInterval(() => {
                    const vcards = document.querySelectorAll('#vcomments .vcards .vcard');
                    if (vcards.length > 0) {
                        let author = 'Nico Liao';

                        if (author) {
                            for (let vcard of vcards) {
                                const vnick_dom = vcard.querySelector('.vhead .vnick');
                                const vnick = vnick_dom.innerHTML;
                                if (vnick === author) {
                                    vnick_dom.innerHTML = `${vnick} <span class="author">${getAuthor(KEEP.hexo_config.language)}</span>`
                                }
                            }
                        }
                        clearInterval(getValineDomTimer);
                    } else {
                        clearInterval(getValineDomTimer);
                    }
                }, 2000);
            }

            if ('true') {
                const loadValineTimeout = setTimeout(() => {
                    loadValine();
                    clearTimeout(loadValineTimeout);
                }, 1000);
            } else {
                window.addEventListener('DOMContentLoaded', loadValine);
            }
        </script>
    </div>



        
    
</div>

            </div>
        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
              <span>2021</span>
              -
            
            2022&nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;<a href="/">Nico Liao</a>
        </div>
        
            <script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="website-count info-item">
                
                    <span id="busuanzi_container_site_uv">
                        访问人数&nbsp;<span id="busuanzi_value_site_uv"></span>&ensp;
                    </span>
                
                
                    <span id="busuanzi_container_site_pv">
                        总访问量&nbsp;<span id="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="theme-info info-item">
            由 <a target="_blank" href="https://hexo.io">Hexo</a> 驱动&nbsp;|&nbsp;主题&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.4.3</a>
        </div>
        
        
        
    </div>
</footer>
        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="tools-item page-aside-toggle">
                <i class="fas fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
            <li class="go-comment">
                <i class="fas fa-comment"></i>
            </li>
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-expand-width flex-center">
            <i class="fas fa-arrows-alt-h"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        
            <li class="tools-item rss flex-center">
                <a class="flex-center"
                   href="/atom.xml"
                   target="_blank"
                >
                    <i class="fas fa-rss"></i>
                </a>
            </li>
        

        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="fas fa-arrow-up"></i>
            </li>
        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
    </ul>
</div>

    </div>

    
        <aside class="page-aside">
            <div class="post-toc-wrap">
    <div class="post-toc">
        <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Java%E7%9A%84%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E6%9C%BA%E5%88%B6%EF%BC%9F"><span class="nav-number">1.</span> <span class="nav-text">Java的动态代理机制？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9B%9E%E6%BB%9A"><span class="nav-number">2.</span> <span class="nav-text">回滚</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9A%E4%B9%89"><span class="nav-number">2.1.</span> <span class="nav-text">定义</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9B%9E%E6%BB%9A%E4%B8%8E%E6%92%A4%E9%94%80%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%9A"><span class="nav-number">2.2.</span> <span class="nav-text">回滚与撤销的区别：</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#spring%E5%B8%B8%E7%94%A8%E7%9A%84%E6%8E%A5%E5%8F%A3%E3%80%81%E7%B1%BB%EF%BC%9F"><span class="nav-number">3.</span> <span class="nav-text">spring常用的接口、类？</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Beanfactory%E6%8E%A5%E5%8F%A3%EF%BC%9F"><span class="nav-number">3.1.</span> <span class="nav-text">Beanfactory接口？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ApplicationContext"><span class="nav-number">3.2.</span> <span class="nav-text">ApplicationContext</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Spring%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3%EF%BC%9F"><span class="nav-number">4.</span> <span class="nav-text">Spring常用注解？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E5%AE%9A%E4%B9%89%E5%8E%9F%E7%90%86%E7%AD%89"><span class="nav-number">5.</span> <span class="nav-text">连接池的定义原理等</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9A%E4%B9%89-1"><span class="nav-number">5.1.</span> <span class="nav-text">定义</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BF%85%E8%A6%81%E6%80%A7"><span class="nav-number">5.2.</span> <span class="nav-text">必要性</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="nav-number">5.2.1.</span> <span class="nav-text">工作原理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AC%AC%E4%B8%80%E3%80%81%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E5%BB%BA%E7%AB%8B%E3%80%82"><span class="nav-number">5.2.2.</span> <span class="nav-text">第一、连接池的建立。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AC%AC%E4%BA%8C%E3%80%81%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E7%AE%A1%E7%90%86%E3%80%82"><span class="nav-number">5.2.3.</span> <span class="nav-text">第二、连接池的管理。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AC%AC%E4%B8%89%E3%80%81%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E5%85%B3%E9%97%AD%E3%80%82"><span class="nav-number">5.2.4.</span> <span class="nav-text">第三、连接池的关闭。</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F%E7%82%B9"><span class="nav-number">5.3.</span> <span class="nav-text">注意点</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%E3%80%81%E5%B9%B6%E5%8F%91%E9%97%AE%E9%A2%98"><span class="nav-number">5.3.1.</span> <span class="nav-text">1、并发问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2%E3%80%81%E4%BA%8B%E5%8A%A1%E5%A4%84%E7%90%86"><span class="nav-number">5.3.2.</span> <span class="nav-text">2、事务处理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3%E3%80%81%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E5%88%86%E9%85%8D%E4%B8%8E%E9%87%8A%E6%94%BE"><span class="nav-number">5.3.3.</span> <span class="nav-text">3、连接池的分配与释放</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%EF%BC%94%E3%80%81%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E9%85%8D%E7%BD%AE%E4%B8%8E%E7%BB%B4%E6%8A%A4"><span class="nav-number">5.3.4.</span> <span class="nav-text">４、连接池的配置与维护</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%9A%E8%BF%87jdbcTemplat%E9%85%8D%E7%BD%AE%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0"><span class="nav-number">5.4.</span> <span class="nav-text">通过jdbcTemplat配置数据库连接池</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Hash%E6%98%AF%E4%B8%AA%E4%BB%80%E4%B9%88%E4%B8%9C%E4%B8%9C"><span class="nav-number">6.</span> <span class="nav-text">Hash是个什么东东</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9A%E4%B9%89-2"><span class="nav-number">6.1.</span> <span class="nav-text">定义</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E7%AE%97%E6%B3%95"><span class="nav-number">6.2.</span> <span class="nav-text">哈希函数、算法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%93%88%E5%B8%8C%E8%A1%A8"><span class="nav-number">6.3.</span> <span class="nav-text">哈希表</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%89%B9%E7%82%B9"><span class="nav-number">6.4.</span> <span class="nav-text">特点</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B8%B8%E8%A7%81%E7%9A%84%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%9F"><span class="nav-number">7.</span> <span class="nav-text">常见的设计模式？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%97%A0%E6%B3%95%E4%BB%8Estatic%E6%96%B9%E6%B3%95%E4%B8%AD%E5%BC%95%E7%94%A8%E9%9D%9Estatic%E6%96%B9%E6%B3%95"><span class="nav-number">8.</span> <span class="nav-text">无法从static方法中引用非static方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%94%9F%E6%88%90%E9%9A%8F%E6%9C%BA%E6%95%B0%E6%9C%89%E5%87%A0%E7%A7%8D%E6%96%B9%E6%B3%95"><span class="nav-number">9.</span> <span class="nav-text">生成随机数有几种方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E7%9A%84%E8%AE%BF%E9%97%AE%E5%99%A8%E5%92%8C%E4%BF%AE%E6%94%B9%E5%99%A8%E6%96%B9%E6%B3%95"><span class="nav-number">10.</span> <span class="nav-text">类的访问器和修改器方法?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%B7%E4%BD%93%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8GregorianCanlendar%E5%AF%B9%E8%B1%A1"><span class="nav-number">11.</span> <span class="nav-text">具体如何使用GregorianCanlendar对象?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#IDEA%E7%9A%84%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7"><span class="nav-number">12.</span> <span class="nav-text">IDEA的调试技巧</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%AD%A5%E8%BF%87%E5%92%8C%E6%AD%A5%E5%85%A5"><span class="nav-number">12.1.</span> <span class="nav-text">步过和步入</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BC%BA%E8%A1%8C%E6%AD%A5%E5%85%A5%EF%BC%8C%E6%AD%A5%E5%87%BA"><span class="nav-number">12.2.</span> <span class="nav-text">强行步入，步出</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9B%9E%E9%80%80%EF%BC%8C%E5%92%8C%E8%BF%90%E8%A1%8C%E5%88%B0%E5%85%89%E6%A0%87%E5%A4%84"><span class="nav-number">12.3.</span> <span class="nav-text">回退，和运行到光标处</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%A1%E7%AE%97%E8%A1%A8%E8%BE%BE%E5%BC%8F%EF%BC%9A%E5%8F%AF%E4%BB%A5%E6%94%B9%E5%8F%98%E5%8F%98%E9%87%8F%E7%9A%84%E5%80%BC"><span class="nav-number">12.4.</span> <span class="nav-text">计算表达式：可以改变变量的值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9D%A1%E4%BB%B6%E6%96%AD%E7%82%B9%EF%BC%9A-for%E5%BE%AA%E7%8E%AF"><span class="nav-number">12.5.</span> <span class="nav-text">条件断点： for循环</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%94%BE%E8%A1%8C"><span class="nav-number">12.6.</span> <span class="nav-text">放行</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%9A%E7%BA%BF%E7%A8%8B%E8%B0%83%E8%AF%95"><span class="nav-number">12.7.</span> <span class="nav-text">多线程调试</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%80%9A%E9%85%8D%E7%AC%A6"><span class="nav-number">13.</span> <span class="nav-text">通配符</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%98%9F%E5%8F%B7%EF%BC%88-%EF%BC%89"><span class="nav-number">13.1.</span> <span class="nav-text">星号（*）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%A9%E5%B1%95%E8%B5%84%E6%96%99"><span class="nav-number">13.2.</span> <span class="nav-text">扩展资料</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%8E%E9%94%AE%E7%9B%98%E6%8E%A5%E5%8F%97%E8%BE%93%E5%85%A5%E7%9A%84%E5%AD%97%E7%AC%A6"><span class="nav-number">14.</span> <span class="nav-text">从键盘接受输入的字符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#i-%E5%92%8C-i%E5%BC%82%E5%90%8C%E4%B8%8E%E4%BD%9C%E7%94%A8"><span class="nav-number">15.</span> <span class="nav-text">i++和++i异同与作用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%B5%84%E6%BA%90%E7%BB%91%E5%AE%9A%E5%99%A8"><span class="nav-number">16.</span> <span class="nav-text">资源绑定器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E5%B0%86%E4%B8%80%E4%B8%AA%E5%8F%98%E9%87%8F%E4%BC%A0%E5%88%B0%E4%B8%80%E4%B8%AA%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%87%8C%E9%9D%A2%E5%91%A2"><span class="nav-number">17.</span> <span class="nav-text">如何将一个变量传到一个字符串里面呢</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SQL%E6%B3%A8%E5%85%A5%E7%8E%B0%E8%B1%A1"><span class="nav-number">18.</span> <span class="nav-text">SQL注入现象</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9D%99%E6%80%81%E4%BB%A3%E7%A0%81%E5%9D%97%EF%BC%9F"><span class="nav-number">19.</span> <span class="nav-text">静态代码块？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E5%8A%A0%E8%BD%BD%EF%BC%9F"><span class="nav-number">20.</span> <span class="nav-text">类加载？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%82%B2%E8%A7%82%E9%94%81%EF%BC%9F%E4%B9%90%E8%A7%82%E9%94%81%EF%BC%9F"><span class="nav-number">21.</span> <span class="nav-text">悲观锁？乐观锁？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#args-%EF%BC%9F"><span class="nav-number">22.</span> <span class="nav-text">args[]？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#var"><span class="nav-number">23.</span> <span class="nav-text">var</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8var-%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F%E7%9A%84%E8%AF%AD%E6%B3%95%EF%BC%9A"><span class="nav-number">23.1.</span> <span class="nav-text">使用var 定义变量的语法：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#var%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9A"><span class="nav-number">23.2.</span> <span class="nav-text">var是什么：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%A8var%E5%A3%B0%E6%98%8E%E5%8F%98%E9%87%8F%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%EF%BC%9A"><span class="nav-number">23.3.</span> <span class="nav-text">用var声明变量的注意事项：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8var%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9%EF%BC%9A"><span class="nav-number">23.4.</span> <span class="nav-text">使用var定义变量的优缺点：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%80%E4%B8%8D%E8%83%BD%E4%BD%BF%E7%94%A8var%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F%EF%BC%9A"><span class="nav-number">23.5.</span> <span class="nav-text">最不能使用var定义变量：</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Spring%E6%B3%A8%E8%A7%A3%E7%9A%84%E5%8E%9F%E7%90%86"><span class="nav-number">24.</span> <span class="nav-text">Spring注解的原理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8E%A5%E5%8F%A3%E6%9C%89%E4%BB%80%E4%B9%88%E7%94%A8%EF%BC%9F"><span class="nav-number">25.</span> <span class="nav-text">接口有什么用？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#dao%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="nav-number">26.</span> <span class="nav-text">dao是什么？</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9A%E4%B9%89%E4%BC%98%E5%8A%BF"><span class="nav-number">26.1.</span> <span class="nav-text">定义优势</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B8%E5%9E%8B%E7%9A%84DAO-%E6%A8%A1%E5%BC%8F%E7%9A%84%E4%B8%BB%E8%A6%81%E7%BB%84%E6%88%90%EF%BC%9A"><span class="nav-number">26.2.</span> <span class="nav-text">典型的DAO 模式的主要组成：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A4%BA%E4%BE%8B"><span class="nav-number">26.3.</span> <span class="nav-text">示例</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8B%E5%8A%A1"><span class="nav-number">27.</span> <span class="nav-text">事务</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#MySQL-%E4%BA%8B%E5%8A%A1"><span class="nav-number">27.1.</span> <span class="nav-text">MySQL 事务</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%8B%E5%8A%A1%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5%EF%BC%9A"><span class="nav-number">27.1.1.</span> <span class="nav-text">事务控制语句：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#MYSQL-%E4%BA%8B%E5%8A%A1%E5%A4%84%E7%90%86%E4%B8%BB%E8%A6%81%E6%9C%89%E4%B8%A4%E7%A7%8D%E6%96%B9%E6%B3%95%EF%BC%9A"><span class="nav-number">27.1.2.</span> <span class="nav-text">MYSQL 事务处理主要有两种方法：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%8B%E5%8A%A1%E6%B5%8B%E8%AF%95"><span class="nav-number">27.1.3.</span> <span class="nav-text">事务测试</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#PHP%E4%B8%AD%E4%BD%BF%E7%94%A8%E4%BA%8B%E5%8A%A1%E5%AE%9E%E4%BE%8B"><span class="nav-number">27.1.4.</span> <span class="nav-text">PHP中使用事务实例</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#MySQL-ORDER-BY-%E6%B5%8B%E8%AF%95%EF%BC%9A"><span class="nav-number">27.1.5.</span> <span class="nav-text">MySQL ORDER BY 测试：</span></a></li></ol></li></ol></li></ol>
    </div>
</div>
        </aside>
    

    <div class="image-viewer-container">
    <img src="">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="搜索..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="popup-btn-close">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

</main>



<script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/utils.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/main.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/header-shrink.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/back2top.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/dark-light-toggle.js"></script>


    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/local-search.js"></script>



    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/code-copy.js"></script>



    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/lazyload.js"></script>


<div class="post-scripts pjax">
    
        <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/left-side-toggle.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/libs/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/toc.js"></script>
    
</div>


    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/libs/pjax.min.js"></script>
<script>
    window.addEventListener('DOMContentLoaded', () => {
        window.pjax = new Pjax({
            selectors: [
                'head title',
                '.page-container',
                '.pjax'
            ],
            history: true,
            debug: false,
            cacheBust: false,
            timeout: 0,
            analytics: false,
            currentUrlFullReload: false,
            scrollRestoration: false,
            // scrollTo: true,
        });

        document.addEventListener('pjax:send', () => {
            KEEP.utils.pjaxProgressBarStart();
        });

        document.addEventListener('pjax:complete', () => {
            KEEP.utils.pjaxProgressBarEnd();
            window.pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
            KEEP.refresh();
        });
    });
</script>



</body>
</html>
